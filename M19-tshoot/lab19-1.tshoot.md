## LAB19-1. Troubleshooting

#### 1. Troubleshooting адресов в сети
1. Создадим список всех хостов и их IP-адресов, находящихся в вашей сети, а также проверим MAC-адреса и открытые порты.
Команда fping последовательно проверяет все адреса в заданном диапазоне. В следующем примере она исследует подсеть, сообщает, какие узлы активны, запрашивает имена узлов в DNS и выводит сводку:
```
fping -c1 -gAds 172.16.110.0/24 2>1 | egrep -v "ICMP|xmt" >> fping.txt
```

2. nmap решает аналогичную задачу, но производит менее подробный вывод:
```
sudo nmap -sn 172.16.110.0/24 > nmap.txt
```

3. Информация представлена в довольно удобочитаемом виде, но можно добавить для удобства пустые строки перед каждым хостом и сохранить результат в другом файле:
```
awk '/Nmap/{print ""}1' nmap.txt > nmap2.txt
```

4. Проверьте наличие открытых портов на хостах в вашей сети:
```
sudo nmap -sS 172.16.110.*
```

5. Соберите список хостов и их IP-адресов:
```
nmap -sn 172.16.110.0/24 | grep 'Nmap scan report for' |cut -d' ' -f5,6
```

6. Ответьте для себя на вопрос: все ли ключи вы знаете, которые были использованы в предыдущих командах.
7. Составьте таблицу в файле lab19-task6.key.txt и сохраните снимок экрана с содержимым этого файла.
```
nmap
-sn значение

cut
-d значение
-f значение
```
>![Screenshot](../img/scr.png)
***Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.***


#### 2. Troubleshooting  ошибок RPM

8. Сначала проверьте состояние службы httpd, чтобы узнать, запущена ли она. Используйте `systemctl`

9. Если службы httpd нет, то установите ее воспользовавшись командой dnf install. После этого убедитесь что служба запустилась.

10. Остановите службу httpd.

11. Внесите изменения в файл /usr/sbin/httpd
```
sudo echo lab19|sudo tee /usr/sbin/httpd
```
12. Запустите службу httpd

13. Прочтите сообщения об ошибке в журнале. Используйте команду journalctl и ключ -u

14. Уточните какому пакету соответствует файл /usr/sbin/httpd
```
rpm -qf /usr/sbin/httpd
```

15. Сверьте файл /usr/sbin/httpd с оригинальным в соответствующем пакете. Имя пакета используйте из предыдущего шага.
```
sudo rpm -V имя_пакета
```

16. Найдите информацию о атрибутах сверки, отображенных в отчете и сделайте скриншот документации man rpm, с оббъяснением значения атрибутов проверки файла.
>![Screenshot](../img/scr.png)
***Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.***


