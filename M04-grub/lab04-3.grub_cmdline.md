## LAB04-3 Использование GRUB2 Command Line


В этом упражнении вы будете загружать RHEL 7 вручную. Посмотрите на содержимое /etc/grub2.cfg и определите нужные команды в строфе. Теперь выполните следующие действия:
1. Загрузите систему. Когда вы увидите следующую строку в верхней части экрана, нажмите любую клавишу, чтобы получить доступ к меню GRUB2:
Выбранная запись будет запущена автоматически через 5 секунд.
1. Нажмите c для вызова интерфейса командной строки на основе GRUB. Вы должны увидеть подсказку grub>.
2. Загрузите модуль LVM, введя следующую команду:
grub> insmod lvm
1. Получите список всех разделов и логических томов:
grub> ls
1. Определите корневой раздел. Это может быть названо как-то вроде (Ivm/rhel-root). Возможно, вам придется использовать некоторые методы проб и ошибок, чтобы выяснить это (например, попытавшись отобразить файл /etc/stab из всех названий устройств, ранее перечисленных GRUB 2).
grub> cat (lvm/rhel-root)/etc/fstab
1. Установите переменную root для устройства, которое вы определили как устройство, содержащее корневую файловую систему:
grub> set root=(lvm/rhel-root)
1. Введите команду linux, которая определяет ядро и раздел корневого каталога.
Да, это длинная строка; однако вы можете использовать завершение команды (нажмите клавишу TAB), чтобы ускорить выполнение. Кроме того, единственными важными частями строки являются файл ядра и расположение корневого каталога верхнего уровня. 
linux (hd0,msdos1)/vmlinuz-5.10.0-123.17.x86_64 root=/dev/mapper/rhel-root
1. Введите команду initrd, которая задает начальную команду RAM disk и местоположение файла. Опять же, вы можете использовать клавишу TAB для завершения имени файла. 
2. initrd (hd0,msdos1)/initramfs-5.10.0-123.e17.x86_64.img
3. Теперь введите команду boot. Если эта команда выполнена успешно, Linux теперь должен загрузить выбранное ядро и начальный диск RAM точно так же, как если бы вы выбрали этот параметр в меню конфигурации GRUB2.

