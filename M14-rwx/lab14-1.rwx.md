## LAB14-1. Права доступа.
Для выполнения лабораторной работы убедитесь, что у вас существуют пользователи **linda** и **laura**, а также существуют группы **sales** и **account**, проверьте, что **linda** и **laura** являются членами группы **sales**. В случае необходимости создайте этих пользователей и группы. 

#### 1. Управление основными разрешениями 

1. Создайте два каталога `/data/sales` и `/data/account`
```bash
mkdir -p /data/sales /data/account. 
```

2. Перед установкой разрешений измените владельцев этих каталогов с помощью `chown` 
```bash
chown  linda.sales /data/sales
chown linda.account /data/account. 
```

3. Установите разрешения, чтобы позволить владельцам пользователей и групп записывать файлы в эти каталоги и запретить доступ всем остальным: 
```bash
chmod 770 /data/sales 
```
а затем 

```bash
chmod 770 /data/account. 
```

4. Используйте `su - laura`, чтобы стать пользователем **laura**, и перейдите в каталог `/data/account`. Используйте `touch emptyfile`, чтобы создать файл в этом каталоге. Это работает? 

5. Все еще как пользователь **laura**, выполните `cd /data/sales` и `touch emptyfile`, чтобы создать файл в этом каталоге. Это работает?

6. Просмотрите структуру директорий в каталоге /data
```bash
tree -ughL 2 /data --du
```

>![Screenshot](../img/scr.png) ***Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.***

#### 2. Работа со специальными разрешениями
7. Откройте терминал, в котором вы являетесь пользователем **linda**.

8. Перейдите в каталог `/data/sales`.

9.  Cоздайте два файла **linda1** и **linda2**, владельцем которых является **linda**. Используйте для создания файлов команду `touch`

10. Введите `exit`, чтобы вернуться в корневую оболочку, а затем используйте `su - laura`, чтобы переключить текущую идентификацию пользователя на пользователя **laura**, который также является членом группы **sales**. 

11. Снова используйте `cd /data/sales`, находясь в этом каталоге выполните `ls -l`. Вы увидите два файла, которые были созданы пользователем linda и принадлежат группе linda. Используйте `rm -f linda*`. Это удалит оба файла.

12. Используйте команды `touch laura1 laura2` для создания двух файлов, принадлежащих пользователю laura. 

13. Используйте `sudo su -` для повышения ваших текущих разрешений до пользователя **root**. 

14. Установите бит идентификатора группы, а также **sticky bit** в общем каталоге группы
```bash
chmod g+s, o+t /data/sales
```

15.  Переключитесь в пользователя  **linda** `su - linda` и перейдите в каталог `/data/sales`.

16. Создайте два файла `touch linda3 linda4`. Теперь вы должны увидеть, что два созданных вами файла принадлежат группе **sales**, которая является владельцем группы каталога `/data/sales`. 

17. Используйте команду `rm -rd laura*`. Обычно **sticky bit** мешает вам сделать это, но поскольку Линда является владельцем каталога, содержащего файлы, вам все равно разрешено это сделать!

#### 3. Управление расширенными разрешениями с помощью списков контроля доступа
18. Откройте **root**-терминал.
    
19. Предоставьте группе **account** разрешения на чтение в каталоге `/data/sales`
```bash
setfacl -m g:account:rx /data/sales
```

20. Предоставьте группе **sales** права на чтение для каталога `/data/account`.
```bash
setfacl -mg:sales:rx /data/account
```

21. Воспользуйтесь командой `getfacl /data/`, чтобы убедиться, что разрешения были установлены так, как вы намеревались. 
    
22. Установите **ACL** по умолчанию для каталога **sales**.
```bash
setfacl -m d:g:account:rx, g:sales:rwx /data/sales
``` 

23. Добавьте **ACL** по умолчанию для каталога `/data/account`
```bash
setfacl -m d:g:sales:rx, g:account:rwx /data/account. 
```

24. Убедитесь, что настройки **ACL** действуют, добавив новый файл в `/data/sales`. Чтобы проверить текущие назначения разрешений: 
```bash
touch /data/sales/newfiled
getfacl /data/sales/newfile
```

>![Screenshot](../img/scr.png) ***Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.***

